<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LDAH Page Editor - Home</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root { --primary-blue: #004E7C; --light-blue: #0066a1; --accent-teal: #4DD0E1; --text-dark: #1a1a1a; --text-light: #666; --bg-light: #f8f9fa; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', sans-serif; background: #f5f5f5; }
        h1, h2, h3 { font-family: 'Poppins', sans-serif; font-weight: 700; line-height: 1.2; }
        .admin-panel { position: fixed; right: 0; top: 0; bottom: 0; width: 380px; background: white; box-shadow: -4px 0 20px rgba(0,0,0,0.15); transform: translateX(100%); transition: transform 0.3s; z-index: 1000; overflow-y: auto; }
        .admin-panel.open { transform: translateX(0); }
        .admin-panel-header { background: var(--primary-blue); color: white; padding: 1rem; position: sticky; top: 0; z-index: 10; }
        .admin-toggle { position: fixed; right: 20px; bottom: 20px; z-index: 999; padding: 14px 24px; background: var(--primary-blue); color: white; border-radius: 50px; border: none; box-shadow: 0 4px 20px rgba(0,78,124,0.4); cursor: pointer; font-weight: 600; }
        .editable-section { position: relative; border: 2px dashed transparent; transition: all 0.3s; cursor: pointer; border-radius: 8px; padding: 4px; margin: -4px; }
        .editable-section:hover { border-color: var(--accent-teal); background: rgba(77,208,225,0.1); }
        .edit-indicator { position: absolute; top: -12px; right: 5px; background: var(--accent-teal); color: var(--primary-blue); padding: 2px 10px; font-size: 11px; border-radius: 4px; font-weight: 600; opacity: 0; transition: opacity 0.3s; pointer-events: none; }
        .editable-section:hover .edit-indicator { opacity: 1; }
        .page-nav { background: #1a1a2e; padding: 1rem; position: sticky; top: 0; z-index: 100; }
        .page-nav-inner { max-width: 1200px; margin: 0 auto; display: flex; align-items: center; gap: 0.5rem; flex-wrap: wrap; }
        .page-nav h1 { color: white; font-size: 1rem; margin-right: auto; }
        .page-btn { background: rgba(255,255,255,0.1); color: white; border: none; padding: 0.5rem 0.75rem; border-radius: 6px; cursor: pointer; font-size: 0.8rem; transition: all 0.2s; text-decoration: none; }
        .page-btn:hover, .page-btn.active { background: var(--primary-blue); }
        .page-btn.active { box-shadow: 0 0 0 2px var(--accent-teal); }
        .page-preview { max-width: 1200px; margin: 0 auto; background: white; min-height: calc(100vh - 60px); }
        .hero-section { background: linear-gradient(135deg, #004E7C, #0066a1); color: white; padding: 80px 20px 60px; text-align: center; position: relative; overflow: hidden; }
        .hero-section::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-image: linear-gradient(90deg, rgba(255,255,255,.08) 1px, transparent 1px), linear-gradient(rgba(255,255,255,.08) 1px, transparent 1px); background-size: 30px 30px; }
        .hero-section > * { position: relative; z-index: 1; }
        .hero-section h1 { font-size: 2.5em; margin-bottom: 20px; }
        .hero-section p { font-size: 1.2em; max-width: 800px; margin: 0 auto; opacity: 0.95; }
        .highlight { color: var(--accent-teal); }
        .stats-section { background: var(--bg-light); padding: 3rem 2rem; }
        .stats-container { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(4, 1fr); gap: 1.5rem; }
        .stat-card { background: white; padding: 1.5rem; border-radius: 12px; text-align: center; box-shadow: 0 4px 12px rgba(0,78,124,0.1); }
        .stat-icon { font-size: 2rem; margin-bottom: 0.5rem; }
        .stat-number { font-size: 2rem; font-weight: 800; color: var(--primary-blue); }
        .stat-label { font-size: 0.9rem; color: var(--text-light); }
        .content-wrapper { max-width: 1200px; margin: 0 auto; padding: 50px 20px; }
        .section-header { text-align: center; margin-bottom: 30px; }
        .section-header h2 { font-size: 1.8rem; color: var(--primary-blue); margin-bottom: 10px; }
        .section-header p { font-size: 1rem; color: var(--text-light); max-width: 600px; margin: 0 auto; }
        .services-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; }
        .service-card { background: var(--bg-light); border-radius: 16px; padding: 1.5rem; }
        .service-icon { font-size: 2rem; margin-bottom: 1rem; }
        .service-title { font-size: 1.1rem; color: var(--primary-blue); margin-bottom: 0.5rem; }
        .service-description { color: var(--text-light); font-size: 0.9rem; line-height: 1.6; }
        .events-section { background: white; padding: 50px 20px; }
        .events-placeholder { background: var(--bg-light); padding: 2rem; border-radius: 12px; text-align: center; color: var(--text-light); }
        .cta-section { background: linear-gradient(135deg, #004E7C, #0066a1); color: white; padding: 60px 20px; text-align: center; position: relative; }
        .cta-section::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-image: radial-gradient(circle, transparent 22px, rgba(255,255,255,0.1) 22px, rgba(255,255,255,0.1) 24px, transparent 24px); background-size: 48px 48px; }
        .cta-section > * { position: relative; z-index: 1; }
        .cta-section h2 { font-size: 2rem; margin-bottom: 15px; }
        .cta-section p { font-size: 1.1rem; max-width: 600px; margin: 0 auto; opacity: 0.95; }
        .edit-form { padding: 1rem; display: none; }
        .edit-form.active { display: block; }
        .edit-form label { display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--text-dark); }
        .edit-form textarea { width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 1rem; margin-bottom: 1rem; font-family: inherit; min-height: 120px; resize: vertical; }
        .edit-form textarea:focus { outline: none; border-color: var(--primary-blue); }
        .btn-row { display: flex; gap: 0.5rem; }
        .btn-save { flex: 1; background: var(--primary-blue); color: white; border: none; padding: 0.75rem; border-radius: 8px; font-weight: 600; cursor: pointer; }
        .btn-cancel { flex: 1; background: #e2e8f0; color: var(--text-dark); border: none; padding: 0.75rem; border-radius: 8px; font-weight: 600; cursor: pointer; }
        .welcome-panel { padding: 1.5rem; }
        .welcome-panel h3 { color: var(--primary-blue); margin-bottom: 1rem; }
        .welcome-panel ul { list-style: none; margin-bottom: 1.5rem; }
        .welcome-panel li { padding: 0.4rem 0; color: var(--text-light); }
        .welcome-panel li::before { content: "âœ“ "; color: var(--primary-blue); }
        .login-box { background: #f0f9ff; border: 1px solid #bae6fd; border-radius: 8px; padding: 1rem; }
        .login-box input { width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px; margin-bottom: 0.5rem; }
        .login-box button { width: 100%; background: var(--primary-blue); color: white; border: none; padding: 0.75rem; border-radius: 8px; font-weight: 600; cursor: pointer; }
        .logged-in-box { background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 8px; padding: 1rem; display: none; }
        .logged-in-box.active { display: block; }
        .btn-logout { width: 100%; background: #ef4444; color: white; border: none; padding: 0.75rem; border-radius: 8px; font-weight: 600; cursor: pointer; }
        @media (max-width: 900px) { .stats-container, .services-grid { grid-template-columns: 1fr 1fr; } }
        @media (max-width: 600px) { .stats-container, .services-grid { grid-template-columns: 1fr; } .page-btn { padding: 0.4rem 0.5rem; font-size: 0.7rem; } }
    </style>
</head>
<body>
    <nav class="page-nav">
        <div class="page-nav-inner">
            <h1>ğŸ“„ Page Editor</h1>
            <span class="page-btn active">ğŸ  Home</span>
            <a href="page-admin-whoweare.html" class="page-btn">ğŸ‘¥ Who We Are</a>
            <a href="page-admin-events.html" class="page-btn">ğŸ“… Events</a>
            <a href="page-admin-volunteer.html" class="page-btn">ğŸ¤ Volunteer</a>
            <a href="page-admin-resources.html" class="page-btn">ğŸ“š Resources</a>
            <a href="cms.html" class="page-btn" style="margin-left: auto;">â† CMS</a>
        </div>
    </nav>

    <div class="admin-panel" id="adminPanel">
        <div class="admin-panel-header"><h2 style="font-size: 1.1rem;">âœï¸ Edit Content</h2></div>
        <div class="edit-form" id="editForm">
            <label id="editLabel">Editing...</label>
            <input type="hidden" id="editId"><input type="hidden" id="editPage">
            <textarea id="editContent"></textarea>
            <div class="btn-row"><button class="btn-cancel" onclick="cancelEdit()">Cancel</button><button class="btn-save" onclick="saveContent()">ğŸ’¾ Save</button></div>
        </div>
        <div class="welcome-panel" id="welcomePanel">
            <h3>ğŸ‘‹ Welcome!</h3>
            <ul><li>Click any text to edit</li><li>Changes save to Firebase</li><li>Updates appear on live site</li></ul>
            <div class="login-box" id="loginBox">
                <p style="font-size: 0.85rem; color: #666; margin-bottom: 0.75rem;">ğŸ” Login to edit:</p>
                <input type="email" id="adminEmail" placeholder="Email">
                <input type="password" id="adminPassword" placeholder="Password" onkeypress="if(event.key==='Enter')login()">
                <button onclick="login()">Login</button>
            </div>
            <div class="logged-in-box" id="loggedInBox">
                <p>âœ… Logged in as:</p><p id="userEmail" style="font-size: 0.85rem; margin-bottom: 1rem;"></p>
                <button class="btn-logout" onclick="logout()">ğŸšª Logout</button>
            </div>
        </div>
    </div>
    <button class="admin-toggle" id="adminToggle" onclick="toggleAdmin()">ğŸ“ Edit</button>

    <div class="page-preview">
        <!-- Hero -->
        <section class="hero-section">
            <div class="editable-section" onclick="editField('home','heroTitle','Hero Title')"><span class="edit-indicator">âœï¸</span><h1 id="home-heroTitle">Empowering Families, <span class="highlight">Transforming Lives</span></h1></div>
            <div class="editable-section" onclick="editField('home','heroSubtitle','Hero Subtitle')"><span class="edit-indicator">âœï¸</span><p id="home-heroSubtitle">Supporting children and youth with disabilities across Hawai'i and the Pacific Islands through advocacy, education, and community partnerships.</p></div>
        </section>

        <!-- Stats -->
        <section class="stats-section">
            <div class="stats-container">
                <div class="stat-card"><div class="stat-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</div><div class="editable-section" onclick="editField('home','stat1Number','Stat 1 Number')"><span class="edit-indicator">âœï¸</span><div class="stat-number" id="home-stat1Number">15,000+</div></div><div class="editable-section" onclick="editField('home','stat1Label','Stat 1 Label')"><span class="edit-indicator">âœï¸</span><div class="stat-label" id="home-stat1Label">Families Served</div></div></div>
                <div class="stat-card"><div class="stat-icon">ğŸ“…</div><div class="editable-section" onclick="editField('home','stat2Number','Stat 2 Number')"><span class="edit-indicator">âœï¸</span><div class="stat-number" id="home-stat2Number">200+</div></div><div class="editable-section" onclick="editField('home','stat2Label','Stat 2 Label')"><span class="edit-indicator">âœï¸</span><div class="stat-label" id="home-stat2Label">Annual Events</div></div></div>
                <div class="stat-card"><div class="stat-icon">ğŸ«</div><div class="editable-section" onclick="editField('home','stat3Number','Stat 3 Number')"><span class="edit-indicator">âœï¸</span><div class="stat-number" id="home-stat3Number">50+</div></div><div class="editable-section" onclick="editField('home','stat3Label','Stat 3 Label')"><span class="edit-indicator">âœï¸</span><div class="stat-label" id="home-stat3Label">Years of Service</div></div></div>
                <div class="stat-card"><div class="stat-icon">ğŸŒ´</div><div class="editable-section" onclick="editField('home','stat4Number','Stat 4 Number')"><span class="edit-indicator">âœï¸</span><div class="stat-number" id="home-stat4Number">7</div></div><div class="editable-section" onclick="editField('home','stat4Label','Stat 4 Label')"><span class="edit-indicator">âœï¸</span><div class="stat-label" id="home-stat4Label">Pacific Islands</div></div></div>
            </div>
        </section>

        <!-- Services -->
        <div class="content-wrapper">
            <div class="section-header">
                <div class="editable-section" onclick="editField('home','servicesTitle','Services Title')"><span class="edit-indicator">âœï¸</span><h2 id="home-servicesTitle">Comprehensive Support Services</h2></div>
                <div class="editable-section" onclick="editField('home','servicesSubtitle','Services Subtitle')"><span class="edit-indicator">âœï¸</span><p id="home-servicesSubtitle">We provide a wide range of services designed to empower families and support children with disabilities.</p></div>
            </div>
            <div class="services-grid">
                <div class="service-card"><div class="service-icon">ğŸ“š</div><div class="editable-section" onclick="editField('home','service1Title','Service 1 Title')"><span class="edit-indicator">âœï¸</span><h3 class="service-title" id="home-service1Title">Parent Training & Information</h3></div><div class="editable-section" onclick="editField('home','service1Desc','Service 1 Description')"><span class="edit-indicator">âœï¸</span><p class="service-description" id="home-service1Desc">Comprehensive training and resources to help parents navigate special education systems.</p></div></div>
                <div class="service-card"><div class="service-icon">ğŸ“</div><div class="editable-section" onclick="editField('home','service2Title','Service 2 Title')"><span class="edit-indicator">âœï¸</span><h3 class="service-title" id="home-service2Title">School Readiness Project</h3></div><div class="editable-section" onclick="editField('home','service2Desc','Service 2 Description')"><span class="edit-indicator">âœï¸</span><p class="service-description" id="home-service2Desc">Early intervention programs helping children prepare for successful school experiences.</p></div></div>
                <div class="service-card"><div class="service-icon">âš–ï¸</div><div class="editable-section" onclick="editField('home','service3Title','Service 3 Title')"><span class="edit-indicator">âœï¸</span><h3 class="service-title" id="home-service3Title">Special Education Advocacy</h3></div><div class="editable-section" onclick="editField('home','service3Desc','Service 3 Description')"><span class="edit-indicator">âœï¸</span><p class="service-description" id="home-service3Desc">Expert guidance on IEPs, IDEA, Chapter 60, and education laws.</p></div></div>
                <div class="service-card"><div class="service-icon">ğŸ‡ºğŸ‡¸</div><div class="editable-section" onclick="editField('home','service4Title','Service 4 Title')"><span class="edit-indicator">âœï¸</span><h3 class="service-title" id="home-service4Title">Military Family Support</h3></div><div class="editable-section" onclick="editField('home','service4Desc','Service 4 Description')"><span class="edit-indicator">âœï¸</span><p class="service-description" id="home-service4Desc">Specialized assistance for military families navigating relocations and IEP transitions.</p></div></div>
                <div class="service-card"><div class="service-icon">ğŸï¸</div><div class="editable-section" onclick="editField('home','service5Title','Service 5 Title')"><span class="edit-indicator">âœï¸</span><h3 class="service-title" id="home-service5Title">Pacific Islands Outreach</h3></div><div class="editable-section" onclick="editField('home','service5Desc','Service 5 Description')"><span class="edit-indicator">âœï¸</span><p class="service-description" id="home-service5Desc">Extending support to families across American Samoa, CNMI, FSM, Guam, Marshall Islands, and Palau.</p></div></div>
                <div class="service-card"><div class="service-icon">âœŠ</div><div class="editable-section" onclick="editField('home','service6Title','Service 6 Title')"><span class="edit-indicator">âœï¸</span><h3 class="service-title" id="home-service6Title">Stand Up to Bullying</h3></div><div class="editable-section" onclick="editField('home','service6Desc','Service 6 Description')"><span class="edit-indicator">âœï¸</span><p class="service-description" id="home-service6Desc">Resources and support to help prevent bullying and protect children.</p></div></div>
            </div>
        </div>

        <!-- Events -->
        <section class="events-section">
            <div class="section-header">
                <div class="editable-section" onclick="editField('home','eventsTitle','Events Title')"><span class="edit-indicator">âœï¸</span><h2 id="home-eventsTitle">Upcoming Events</h2></div>
                <div class="editable-section" onclick="editField('home','eventsSubtitle','Events Subtitle')"><span class="edit-indicator">âœï¸</span><p id="home-eventsSubtitle">Join us for workshops, training sessions, and community events</p></div>
            </div>
            <div class="events-placeholder">ğŸ“… Events are loaded dynamically from Firebase</div>
        </section>

        <!-- CTA -->
        <section class="cta-section">
            <div class="editable-section" onclick="editField('home','ctaTitle','CTA Title')"><span class="edit-indicator">âœï¸</span><h2 id="home-ctaTitle">Ready to Make a Difference?</h2></div>
            <div class="editable-section" onclick="editField('home','ctaSubtitle','CTA Subtitle')"><span class="edit-indicator">âœï¸</span><p id="home-ctaSubtitle">Join our community of volunteers and advocates working to create opportunities for children with disabilities.</p></div>
        </section>
    </div>

    <script>
        const firebaseConfig = { apiKey: "AIzaSyAU3CQ07bCVKlJ1qGak-150kaJEyPKldLk", authDomain: "ldah-932d5.firebaseapp.com", projectId: "ldah-932d5", storageBucket: "ldah-932d5.firebasestorage.app", messagingSenderId: "662130454003", appId: "1:662130454003:web:437576d5a5811ecd8df686" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore(), auth = firebase.auth();
        let isLoggedIn = false, pageContent = {};

        auth.onAuthStateChanged(user => {
            isLoggedIn = !!user;
            document.getElementById('loginBox').style.display = user ? 'none' : 'block';
            document.getElementById('loggedInBox').classList.toggle('active', !!user);
            if (user) document.getElementById('userEmail').textContent = user.email;
        });

        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const doc = await db.collection('pageContent').doc('home').get();
                if (doc.exists) { pageContent = doc.data(); Object.keys(pageContent).forEach(k => { const el = document.getElementById('home-' + k); if (el && pageContent[k]) el.innerHTML = pageContent[k]; }); }
            } catch (e) { console.error(e); }
        });

        function toggleAdmin() { const p = document.getElementById('adminPanel'); p.classList.toggle('open'); document.getElementById('adminToggle').textContent = p.classList.contains('open') ? 'âœ–ï¸ Close' : 'ğŸ“ Edit'; }
        async function login() { const e = document.getElementById('adminEmail').value, p = document.getElementById('adminPassword').value; if (!e || !p) return alert('Enter email and password'); try { await auth.signInWithEmailAndPassword(e, p); alert('âœ… Logged in!'); } catch (err) { alert('âŒ ' + err.message); } }
        async function logout() { await auth.signOut(); alert('ğŸ‘‹ Logged out'); }
        function editField(page, field, label) { if (!isLoggedIn) { alert('Please login first'); toggleAdmin(); return; } document.getElementById('welcomePanel').style.display = 'none'; document.getElementById('editForm').classList.add('active'); document.getElementById('editLabel').textContent = 'Editing: ' + label; document.getElementById('editId').value = field; document.getElementById('editPage').value = page; document.getElementById('editContent').value = (document.getElementById(page + '-' + field)?.innerHTML || '').trim(); if (!document.getElementById('adminPanel').classList.contains('open')) toggleAdmin(); }
        async function saveContent() { const page = document.getElementById('editPage').value, field = document.getElementById('editId').value, content = document.getElementById('editContent').value; try { await db.collection('pageContent').doc(page).set({ [field]: content, updatedAt: firebase.firestore.FieldValue.serverTimestamp() }, { merge: true }); const el = document.getElementById(page + '-' + field); if (el) el.innerHTML = content; alert('âœ… Saved!'); cancelEdit(); } catch (e) { alert('âŒ ' + e.message); } }
        function cancelEdit() { document.getElementById('editForm').classList.remove('active'); document.getElementById('welcomePanel').style.display = 'block'; }
    </script>
</body>
</html>
